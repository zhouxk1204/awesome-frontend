# Git å¦‚ä½•æ’¤å›å·² Push çš„ä»£ç ï¼Ÿ

## ğŸ“ æ¦‚è¦

å·² push çš„ä»£ç **ä¸è¦ç›´æ¥ reset**ã€‚åœ¨çœŸå®å¼€å‘å’Œé¢è¯•ä¸­ï¼Œ**ä¼˜å…ˆä½¿ç”¨ `git revert` æ’¤å›**ï¼Œå®ƒä¸æ”¹å†å²ã€å¯¹åä½œæœ€å®‰å…¨ï¼›å¦‚æœéœ€è¦æ¢å¤è¢« revert çš„ä»£ç ï¼Œåªéœ€**å¯¹ revert äº§ç”Ÿçš„æäº¤å†æ‰§è¡Œä¸€æ¬¡ revert**ã€‚`reset + force push` ä»…é€‚ç”¨äºä¸ªäººåˆ†æ”¯ã€æ— äººåä½œåœºæ™¯ã€‚

---

## ğŸ“Œ æ ¸å¿ƒçŸ¥è¯†ç‚¹

### 1ï¸âƒ£ åŸºç¡€çš„æ‰‹åŠ¨æ“ä½œï¼ˆâŒ ä¸æ¨èï¼‰

- é€šè¿‡ IDE Compareï¼ˆå¯¹æ¯” commitï¼‰

- æ‰‹åŠ¨åˆ é™¤å¤šä½™ä»£ç 

- å†æäº¤ä¸€æ¬¡

**ä¼˜ç‚¹**ï¼šç›´è§‚ã€å®¹æ˜“ç†è§£  
**ç¼ºç‚¹**ï¼š

- å¤æ‚é¡¹ç›®ææ˜“å‡ºé”™

- é…ç½®æ–‡ä»¶éš¾ä»¥å¤„ç†

- æˆæœ¬é«˜ã€ä¸å¯æ§

ğŸ‘‰ åªé€‚åˆä»£ç æå°‘ã€ä¸´æ—¶å…œåº•åœºæ™¯ã€‚

---

### 2ï¸âƒ£ `git revert` æ’¤å›å·² Push çš„ä»£ç ï¼ˆâœ… å¼ºçƒˆæ¨è / é¢è¯•é¦–é€‰ï¼‰

**åŸç†**ï¼š

> `git revert` ä¸ä¼šåˆ é™¤å†å²æäº¤ï¼Œè€Œæ˜¯ç”Ÿæˆä¸€ä¸ªâ€œåå‘æäº¤â€æ¥æŠµæ¶ˆæŒ‡å®š commitã€‚

```bash
git revert <commit-id>
git push
```

**ç‰¹ç‚¹**ï¼š

- âœ… ä¸æ”¹æäº¤å†å²

- âœ… ä¸éœ€è¦ force push

- âœ… å¯¹å¤šäººåä½œã€ç”Ÿäº§ç¯å¢ƒæœ€å®‰å…¨

- âŒ å¤šæ¬¡å›é€€ä¼šäº§ç”Ÿå¤šæ¡ revert è®°å½•

ğŸ“Œ **é¢è¯•æ ‡å‡†ç­”æ¡ˆ**ï¼š

> å·² push çš„ä»£ç ï¼Œæ¨èä½¿ç”¨ `git revert` è¿›è¡Œæ’¤å›ã€‚

---

### 3ï¸âƒ£ æ¢å¤è¢« revert çš„ä»£ç ï¼ˆâ­ é«˜é¢‘è¿½é—®ï¼ŒåŠ åˆ†ç‚¹ï¼‰

å¦‚æœä½ åæ‚”äº†ï¼Œæƒ³æŠŠè¢« revert çš„ä»£ç å†æ¢å¤å›æ¥ï¼š

```bash
# å‡è®¾ B æ˜¯ Revert "A" ç”Ÿæˆçš„æäº¤
git revert B
git push
```

**æäº¤é“¾è·¯ç¤ºæ„**ï¼š

```text
A  åŸå§‹æäº¤
â†“
B  Revert Aï¼ˆä»£ç è¢«æ’¤å›ï¼‰
â†“
C  Revert Bï¼ˆä»£ç æ¢å¤ âœ…ï¼‰
```

ğŸ“Œ å£è¯€ï¼š**revert çš„åæ“ä½œè¿˜æ˜¯ revert**ã€‚

---

### 4ï¸âƒ£ æ–°å»ºåˆ†æ”¯å›é€€åˆ°å†å²ç‰ˆæœ¬ï¼ˆâœ… æ’¤å›å¾ˆå¤šæ¬¡æ—¶æ¨èï¼‰

**é€‚ç”¨åœºæ™¯**ï¼š

- éœ€è¦å›é€€åˆ°å¾ˆä¹…ä»¥å‰ï¼ˆå‡ å/ä¸Šç™¾æ¬¡æäº¤ï¼‰

- ä¸æƒ³æ±¡æŸ“å½“å‰åˆ†æ”¯å†å²

```bash
git checkout -b rollback-branch <commit-id>
```

**ä¼˜ç‚¹**ï¼š

- ä¿ç•™åŸåˆ†æ”¯å®Œæ•´å†å²

- å›é€€å®‰å…¨ã€å¯æ§

**ç¼ºç‚¹**ï¼š

- åˆ†æ”¯ç®¡ç†æˆæœ¬ä¸Šå‡

---

### 5ï¸âƒ£ `git reset` + `force push`ï¼ˆâš ï¸ é«˜å±ï¼Œæ…ç”¨ï¼‰

```bash
git reset --hard <commit-id>
git push -f
```

#### reset æ¨¡å¼è¯´æ˜

|æ¨¡å¼|å·¥ä½œåŒº|æš‚å­˜åŒº|æäº¤å†å²|
|---|---|---|---|
|`--soft`|ä¿ç•™|ä¿ç•™|å›é€€|
|`--mixed`|ä¿ç•™|æ¸…ç©º|å›é€€|
|`--hard`|æ¸…ç©º|æ¸…ç©º|å›é€€|
|`--keep`|ä¿ç•™æœªæäº¤|æ¸…ç©ºæäº¤|å›é€€|

âš ï¸ é£é™©è¯´æ˜ï¼š

- ä¼šé‡å†™æäº¤å†å²

- ä¼šå½±å“å…¶ä»–å¼€å‘è€…

- å—ä¿æŠ¤åˆ†æ”¯ï¼ˆmain/masterï¼‰é€šå¸¸ç¦æ­¢

ğŸ‘‰ **åªé€‚ç”¨äºä¸ªäººåˆ†æ”¯ / æ˜ç¡®æ— äººåä½œçš„æƒ…å†µ**ã€‚

---

## ğŸ§  å†³ç­–æµç¨‹ï¼ˆæ–‡å­—ç‰ˆæµç¨‹å›¾ï¼‰

```text
ä»£ç æ˜¯å¦å·² pushï¼Ÿ
  â””â”€ å¦ â†’ reset / amend
  â””â”€ æ˜¯
      â”œâ”€ æ˜¯å¦å¤šäººåä½œï¼Ÿ
      â”‚     â””â”€ æ˜¯ â†’ git revertï¼ˆâœ…ï¼‰
      â”‚     â””â”€ å¦
      â”‚         â”œâ”€ å›é€€å°‘ â†’ revert
      â”‚         â””â”€ å›é€€å¤š â†’ reset + forceï¼ˆâš ï¸ï¼‰
```

---

## ğŸ’» ç¤ºä¾‹ä»£ç 

```bash
# æ’¤å›æœ€è¿‘ä¸€æ¬¡æäº¤
git revert HEAD

# æ’¤å›æŒ‡å®šæäº¤
git revert a1b2c3d

# æ¢å¤è¢« revert çš„æäº¤
git revert <revert-commit-id>
```

---

## âš ï¸ å¸¸è§è¯¯åŒº

- âŒ å·² push å°±ç›´æ¥ reset

- âŒ åä½œåˆ†æ”¯ä½¿ç”¨ force push

- âŒ è®¤ä¸º revert ä¸èƒ½æ¢å¤

- âŒ ä¸æ¸…æ¥šåˆ†æ”¯æ˜¯å¦å—ä¿æŠ¤

---

## ğŸ¯ é€‚ç”¨åœºæ™¯

- çº¿ä¸Šè¯¯æäº¤å›æ»š

- ä¸´æ—¶ä¸‹çº¿åŠŸèƒ½ã€åç»­éœ€è¦æ¢å¤

- Git é¢è¯•é«˜é¢‘é¢˜

- ç”Ÿäº§ç¯å¢ƒç‰ˆæœ¬æ§åˆ¶è§„èŒƒ

---

## ğŸ¤ é¢è¯•ä¸€å¥è¯æ¨¡æ¿ï¼ˆå»ºè®®èƒŒï¼‰

> å·² push çš„ä»£ç æˆ‘ä¼šä¼˜å…ˆç”¨ `git revert` æ’¤å›ï¼›å¦‚æœéœ€è¦æ¢å¤è¢« revert çš„ä»£ç ï¼Œå°±å¯¹é‚£ä¸ª revert æäº¤å†æ‰§è¡Œä¸€æ¬¡ `git revert`ï¼Œæ•´ä¸ªè¿‡ç¨‹ä¸æ”¹å†å²ã€ä¸ç”¨å¼ºæ¨ï¼Œæœ€å®‰å…¨ã€‚

---

## ğŸ·ï¸ æ ‡ç­¾

- #git #ç‰ˆæœ¬æ§åˆ¶ #é¢è¯•é«˜é¢‘ #å·¥ç¨‹å®è·µ
