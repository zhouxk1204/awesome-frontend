
## ğŸ“ æ¦‚è¦

TypeScript çš„ `enum` æ˜¯ä¸€ä¸ª**è¿è¡Œæ—¶ç»“æ„**ï¼Œä¼šåœ¨ç¼–è¯‘åç”Ÿæˆé¢å¤– JS ä¸ IIFE åŒ…è£¹å¯¹è±¡ï¼Œå¯¼è‡´ bundle ä½“ç§¯å¢å¤§ã€‚è€Œç°ä»£å‰ç«¯å·¥ç¨‹æ›´æ¨è **as const å¯¹è±¡ + ç±»å‹åˆ«å**ï¼Œå®ƒä¸ç”Ÿæˆä»»ä½•è¿è¡Œæ—¶ä»£ç ï¼Œæ˜¯æ›´è½»é‡ã€å…¼å®¹æ€§æ›´å¥½çš„æ–¹æ¡ˆã€‚

æœ¬æ–‡æ•´ç†ï¼š

- enum / const enum / as const çš„ç¼–è¯‘å·®å¼‚

- æ„å»ºå·¥å…·ï¼ˆtsc / Babel / SWCï¼‰çš„è¡¨ç°

- å®æˆ˜ä¸­çš„æœ€ä½³é€‰æ‹©

- ç¤ºä¾‹ä»£ç  + ç¼–è¯‘ç»“æœ + è¯´æ˜ + æ€»ç»“

---

## ğŸ“Œ æ ¸å¿ƒçŸ¥è¯†ç‚¹æ¦‚è§ˆ

### 1. `enum` ä¸ºä»€ä¹ˆä¸æ¨èï¼Ÿ

- æ˜¯ **è¿è¡Œæ—¶ä»£ç **

- tsc/Babel/SWC éƒ½ä¼šä¸º enum **æ³¨å…¥ä¸€å¤§æ®µ IIFE + å¯¹è±¡èµ‹å€¼**

- ä½¿ç”¨è¶Šå¤šï¼Œbundle ä½“ç§¯è¶Šå¤§

- åœ¨ tree-shaking ä¸­è¡¨ç°ä¸ä½³

### 2. `const enum` çš„ä¼˜ç¼ºç‚¹

- tsc ä¼šå¯¹ const enum **è¿›è¡Œå®Œå…¨å†…è”ï¼ˆinlineï¼‰**

- æ²¡æœ‰è¿è¡Œæ—¶ä»£ç ï¼Œä½“ç§¯æœ€å°

- ä½†ï¼š

  - Babel âŒ ä¸æ”¯æŒ

  - SWC âŒ ä¸æ”¯æŒ

  - NPM åŒ…ä½¿ç”¨ const enum âŒ ä¼šå¯¼è‡´æ¶ˆè´¹è€…ç¼–è¯‘å¤±è´¥

### 3. ä¸ºä»€ä¹ˆæ¨è as constï¼Ÿ

- å®Œå…¨æ²¡æœ‰é¢å¤– JS

- ç±»å‹èƒ½åŠ› = enum

- æ‰€æœ‰æ„å»ºå·¥å…·å…¼å®¹

- bundle å¤§å¹…å‡å°‘

---

## ğŸ’» ç¤ºä¾‹ä»£ç ä¸ç¼–è¯‘ç»“æœï¼ˆå«æ–‡å­—è¯´æ˜ï¼‰

## âŒ ä¼ ç»Ÿ enumï¼ˆä¼šç”Ÿæˆè¿è¡Œæ—¶ä»£ç ï¼‰

### æºç 

```ts
enum UserRole {
  Admin = 'admin',
  User = 'user',
}
```

### ç¼–è¯‘åï¼ˆtsc / Babel / SWC å‡ä¼šç”Ÿæˆå¦‚ä¸‹ç»“æ„ï¼‰

```js
var UserRole;
(function (UserRole) {
  UserRole["Admin"] = "admin";
  UserRole["User"] = "user";
})(UserRole || (UserRole = {}));
```

### ğŸ” è¯´æ˜

- æœ‰ä¸€ä¸ª **IIFEï¼ˆç«‹å³æ‰§è¡Œå‡½æ•°ï¼‰**

- IIFE å†…å¯¹æšä¸¾è¿›è¡Œ **å¯¹è±¡èµ‹å€¼**

- ä¼šç”Ÿæˆä¸€ä¸ªè¿è¡Œæ—¶å¯¹è±¡ `UserRole`

- å³ä½¿ä½ åªä½¿ç”¨ `UserRole.Admin`ï¼Œæ•´æ®µ IIFE ä»ä¼šè¿›å…¥ bundle

### ğŸ“Œ å°ç»“

â¡ ä¼ ç»Ÿ enum **ä¸€å®šä¼šç”Ÿæˆ JS ä»£ç **  
â¡ ä½¿ç”¨è¶Šå¤šï¼Œbundle è¶Šå¤§  
â¡ åœ¨å‰ç«¯æ¡†æ¶ä¸­ä¸æ¨èå¤§é‡ä½¿ç”¨

---

## âš ï¸ const enumï¼ˆæœ€è½»é‡ï¼Œä½†å…¼å®¹æ€§æå·®ï¼‰

### æºç 

```ts
const enum Status {
  Loading = 1,
  Success = 2,
}
const s = Status.Loading;
```

### tsc ç¼–è¯‘åï¼ˆinline æ¶ˆé™¤ï¼‰

```js
const s = 1 /* Loading */;
```

### ğŸ” è¯´æ˜

- æ²¡æœ‰ enumã€æ²¡æœ‰ IIFEã€æ²¡æœ‰å¯¹è±¡

- å®Œå…¨æŒ‰å­—é¢å€¼ **inline æ›¿æ¢**

### âš ï¸ å…¼å®¹æ€§é£é™©

- Babel/SWC æ— æ³•å¤„ç† const enum â†’ âŒ æ„å»ºæŠ¥é”™

- NPM åŒ…è‹¥åŒ…å« const enumï¼Œæ¶ˆè´¹è€…ï¼ˆä¸åŒæ„å»ºé“¾ï¼‰ç¼–è¯‘ä¼šå¤±è´¥ â†’ âŒ ä¸å¯ç”¨

### ğŸ“Œ å°ç»“

â¡ tsc-only åœºæ™¯å¯ç”¨ï¼ˆNode åç«¯ã€è„šæœ¬ï¼‰  
â¡ å‰ç«¯å·¥ç¨‹å‡ ä¹ **ç¦æ­¢ä½¿ç”¨ const enum**

---

## âœ… æœ€ä½³æ–¹æ¡ˆï¼šas constï¼ˆé›¶è¿è¡Œæ—¶ä»£ç ï¼‰

### æºç 

```ts
const UserRole = {
  Admin: 'admin',
  User: 'user',
} as const;

type UserRole = keyof typeof UserRole;
```

### ç¼–è¯‘åï¼ˆæ‰€æœ‰æ„å»ºå·¥å…·ä¸€è‡´ï¼‰

```js
const UserRole = { Admin: 'admin', User: 'user' };
```

### ğŸ” è¯´æ˜

- ä¿ç•™å¯¹è±¡æœ¬èº«ï¼Œä¸æ³¨å…¥é¢å¤–ç»“æ„

- ä¸äº§ç”Ÿ enum åå‘æ˜ å°„ä»£ç 

- ç±»å‹èƒ½åŠ›ä¸ enum å®Œå…¨ç­‰ä»·

- æœ€ä½³æ€§èƒ½ã€ä½“ç§¯æœ€å°

### ğŸ“Œ å°ç»“

â¡ æ— è¿è¡Œæ—¶ä»£ç   
â¡ é›¶å‰¯ä½œç”¨  
â¡ ä¸ç°ä»£æ‰“åŒ…å·¥å…·æœ€ä½³å…¼å®¹

---

## ğŸ” tsc / Babel / SWC å¯¹æ¯”æ€»ç»“

|ç‰¹æ€§|enumï¼ˆâŒè‡ƒè‚¿ï¼‰|const enumï¼ˆâš å…¼å®¹å·®ï¼‰|as constï¼ˆâœ…æœ€ä½³ï¼‰|
|---|---|---|---|
|tsc|ç”Ÿæˆ IIFE|inlineï¼ˆé›¶è¿è¡Œæ—¶ä»£ç ï¼‰|åŸæ · JS å¯¹è±¡|
|Babel|ç”Ÿæˆ IIFE|âŒ ä¸æ”¯æŒ|åŸæ · JS å¯¹è±¡|
|SWC|ç”Ÿæˆ IIFE|âŒ ä¸æ”¯æŒ|åŸæ · JS å¯¹è±¡|
|bundle ä½“ç§¯|å¤§|æœ€å°|æœ€å°|
|è¿è¡Œæ—¶ä»£ç |æœ‰|æ— |æ— |
|å…¼å®¹æ€§|é«˜|ä½|æœ€é«˜|
|NPM åŒ…é£é™©|ä¸­|æé«˜ âŒ|é›¶é£é™© âœ”|

---

## ğŸ¯ æœ€ä½³å®è·µå†³ç­–ï¼ˆæç®€ç‰ˆï¼‰

## ä½ åœ¨å‰ç«¯å·¥ç¨‹ä¸­å—ï¼Ÿï¼ˆViteã€Next.jsã€Webpackï¼‰

ğŸ‘‰ **ç”¨ `as const`**

## éœ€è¦åå‘æ˜ å°„ï¼ˆvalue â†’ keyï¼‰ï¼Ÿ

ğŸ‘‰ ç”¨ `enum`ï¼ˆå”¯ä¸€åˆç†ä½¿ç”¨åœºæ™¯ï¼‰

## ä»… tsc ç¼–è¯‘ï¼Ÿï¼ˆNodeã€å·¥å…·è„šæœ¬ï¼‰

ğŸ‘‰ å¯ä»¥ä½¿ç”¨ `const enum`

## è¦å‘å¸ƒ NPM åŒ…ï¼Ÿ

ğŸ‘‰ ç¦æ­¢ const enum  
ğŸ‘‰ enum æˆ– as constï¼ˆäºŒé€‰ä¸€ï¼‰

---

## ğŸ’¡ æ¨èå†™æ³•ï¼ˆç»Ÿä¸€æ ¼å¼ï¼‰

### å­—ç¬¦ä¸²æšä¸¾ï¼ˆæœ€å¸¸ç”¨ï¼‰

```ts
const Theme = {
  Light: 'light',
  Dark: 'dark',
  Auto: 'auto',
} as const;

type Theme = keyof typeof Theme;
```

### æ•°å­—æšä¸¾

```ts
const ErrorCode = {
  NotFound: 404,
  Unauthorized: 401,
} as const;

type ErrorCode = typeof ErrorCode[keyof typeof ErrorCode];
```

---

## ğŸ”— å…³è”ç¬”è®°

- [[TypeScript å­—é¢é‡æ¨æ–­ä¸ as const]]

- [[å‡å°‘å‰ç«¯ bundle ä½“ç§¯çš„å¸¸è§æ‰‹æ®µ]]

- [[tsc vs Babel vs SWC å·®å¼‚è§£æ]]

---

## ğŸ·ï¸ æ ‡ç­¾

- #typescript #enum #asconst #constenum #å·¥ç¨‹åŒ– #bundleä¼˜åŒ– #æ‰‹å†Œ
